const a3_0x3079cb=a3_0x24f2;(function(_0x329bdf,_0x5af31e){const _0x560fa2=a3_0x24f2,_0x1939bb=_0x329bdf();while(!![]){try{const _0x4f31a3=parseInt(_0x560fa2(0x174))/0x1*(-parseInt(_0x560fa2(0x1b0))/0x2)+-parseInt(_0x560fa2(0x1a9))/0x3*(parseInt(_0x560fa2(0x1c9))/0x4)+-parseInt(_0x560fa2(0x19b))/0x5*(parseInt(_0x560fa2(0x199))/0x6)+parseInt(_0x560fa2(0x1af))/0x7*(-parseInt(_0x560fa2(0x184))/0x8)+-parseInt(_0x560fa2(0x1be))/0x9*(-parseInt(_0x560fa2(0x1a6))/0xa)+parseInt(_0x560fa2(0x1a1))/0xb+parseInt(_0x560fa2(0x1bf))/0xc*(parseInt(_0x560fa2(0x180))/0xd);if(_0x4f31a3===_0x5af31e)break;else _0x1939bb['push'](_0x1939bb['shift']());}catch(_0x7fd39b){_0x1939bb['push'](_0x1939bb['shift']());}}}(a3_0x491e,0x22dbf));import a3_0x44048f from'input';import{Helper}from'../utils/helper.js';function a3_0x24f2(_0xf2eda4,_0x399983){const _0x491e0d=a3_0x491e();return a3_0x24f2=function(_0x24f225,_0x50e3b2){_0x24f225=_0x24f225-0x170;let _0x5a284a=_0x491e0d[_0x24f225];return _0x5a284a;},a3_0x24f2(_0xf2eda4,_0x399983);}import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x3c8cc5 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';import{LogLevel}from'telegram/extensions/Logger.js';function a3_0x491e(){const _0x15dbac=['storeSession','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','setLogLevel','resetAccounts','disconnect','info','query-','url','\x20-\x20Created','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','message','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','<empty>','Enter\x20your\x20Telegram\x20Password?','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','warn','length','263778PYPfYl','text','5XoePtL','init','queryCreation','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','exit','https://image.notpx.app/','572099eHOTUP','Old\x20Query\x20:\x20','Your\x20Account\x20List\x20:\x0a\x20\x0a','session','accountType','1574890gmtwbi','\x20-\x20Webview\x20Connected','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','345489qAvLbW','error','peer','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','messages','filter','1222396UIVgTj','284908UYqKDm','client','sessionCreation','Please\x20Enter\x20Telegram\x20Query\x20:\x20','accounts','getSession','destroy','seconds','getTelegramQuery','\x20|\x20FloodWait\x20','indexOf','TELEGRAM_APP_HASH','resolvePeer','queryModificaiton','9fpGbij','132jqeJau','getEntity','android','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','accountName','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','notpx_bot','proxy','bot','4LiUBby','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','Session\x20','<empty>\x0a','serverAddress','createDir','Invalid\x20input,\x20Please\x20try\x20again','You\x20dont\x20have\x20any\x20Query\x20Account.','2VKlYNw','useSession','agent','Query\x20','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','accounts/','includes','Invalid\x20Input','readQueryFile','log','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','invoke','652301tzLExw','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','onBoarding','ERROR','8YAeBqF','delay','\x20-\x20Resolving\x20Peer'];a3_0x491e=function(){return _0x15dbac;};return a3_0x491e();}export class Telegram{[a3_0x3079cb(0x187)];constructor(){const _0x3709ba=a3_0x3079cb;this[_0x3709ba(0x1c4)]=_0x3709ba(0x1b4),this['url']=_0x3709ba(0x1a0),this['bot']=_0x3709ba(0x1c6);}async[a3_0x3079cb(0x19c)](){const _0x4688ae=a3_0x3079cb;try{await this[_0x4688ae(0x182)]();}catch(_0x5bfe39){console[_0x4688ae(0x17d)](_0x5bfe39),a3_0x3c8cc5[_0x4688ae(0x1aa)](''+JSON['stringify'](_0x5bfe39));throw _0x5bfe39;}}async[a3_0x3079cb(0x182)](){const _0x5e7f42=a3_0x3079cb;try{let _0x8988c2=_0x5e7f42(0x191);const _0x2e3fbf=Helper['getSession'](_0x5e7f42(0x1b4));if(_0x2e3fbf[_0x5e7f42(0x198)]==0x0)_0x8988c2+=_0x5e7f42(0x194);else for(const _0x398f13 of _0x2e3fbf){_0x8988c2+='-\x20'+_0x398f13+'\x0a';}_0x8988c2+=_0x5e7f42(0x1ca),_0x8988c2+=_0x5e7f42(0x1c5);const _0x35b3cd=await a3_0x44048f[_0x5e7f42(0x19a)](_0x8988c2);if(_0x35b3cd==0x1)await this[_0x5e7f42(0x1a5)]();else{if(_0x35b3cd==0x2)Helper[_0x5e7f42(0x18b)](),await Helper['delay'](0xbb8),await this[_0x5e7f42(0x182)]();else{if(_0x35b3cd==0x3)Helper[_0x5e7f42(0x1b5)](this['accountName'])?.[_0x5e7f42(0x198)]==0x0&&(console[_0x5e7f42(0x18d)](_0x5e7f42(0x181)),await this['onBoarding']());else _0x35b3cd==0x4?await this['queryModificaiton']():(console['error'](_0x5e7f42(0x172)),await this[_0x5e7f42(0x182)]());}}}catch(_0x1b4e95){throw _0x1b4e95;}}async['queryModificaiton'](){const _0x122d08=a3_0x3079cb;try{const _0x5a3b1a=Helper[_0x122d08(0x1b5)](_0x122d08(0x1b4)),_0x5c7ebb=_0x5a3b1a[_0x122d08(0x1ae)](_0x527372=>_0x527372[_0x122d08(0x17a)]('query'));let _0x156c28=_0x122d08(0x196);for(const _0x5d1cc1 of _0x5c7ebb){_0x156c28+=_0x5a3b1a['indexOf'](_0x5d1cc1)+0x1+'.\x20'+_0x5d1cc1+'\x0a';}_0x5c7ebb[_0x122d08(0x198)]==0x0?(console['log'](_0x122d08(0x173)),await this[_0x122d08(0x182)]()):_0x156c28+=_0x122d08(0x193);const _0x3038c6=await a3_0x44048f[_0x122d08(0x19a)](_0x156c28);if(_0x5c7ebb[_0x3038c6-0x1]!=undefined){const _0x480742=_0x5c7ebb[_0x3038c6-0x1];this[_0x122d08(0x1c4)]=_0x122d08(0x179)+_0x480742;const _0x4ac68b=_0x122d08(0x1a2)+Helper[_0x122d08(0x17c)](this[_0x122d08(0x1c4)]+'/query.txt')+_0x122d08(0x17e),_0x4c5169=await a3_0x44048f['text'](_0x4ac68b);await Helper['saveQueryFile'](this['accountName'],_0x4c5169),await Helper[_0x122d08(0x185)](0xbb8),await this[_0x122d08(0x182)]();}else console[_0x122d08(0x1aa)]('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0x122d08(0x1bd)]();}catch(_0x352685){throw _0x352685;}}async[a3_0x3079cb(0x1b2)](){const _0x275290=a3_0x3079cb;try{if(Config['TELEGRAM_APP_ID']==undefined||Config[_0x275290(0x1bb)]==undefined)throw new Error(_0x275290(0x178));const _0x4c1cde=Helper['getSession']('accounts');let _0x75222b=_0x275290(0x1a3);for(const _0x518758 of _0x4c1cde){_0x75222b+=_0x4c1cde['indexOf'](_0x518758)+0x1+'.\x20'+_0x518758+'\x0a';}_0x4c1cde[_0x275290(0x198)]==0x0?_0x75222b+=_0x275290(0x188):_0x75222b+=_0x275290(0x1c3);const _0x3b4ee2=await a3_0x44048f[_0x275290(0x19a)](_0x75222b);this['accountName']=Helper[_0x275290(0x171)]('sessions-'+_0x3b4ee2),await this[_0x275290(0x175)](this[_0x275290(0x1c4)]),await this['disconnect'](),a3_0x3c8cc5[_0x275290(0x18d)](_0x275290(0x1cb)+this[_0x275290(0x1c4)]+_0x275290(0x190)),console[_0x275290(0x17d)]('Session\x20'+_0x3b4ee2+_0x275290(0x189)),this[_0x275290(0x187)]['save'](),await Helper['delay'](0xbb8),process[_0x275290(0x19f)]();}catch(_0x5795cc){throw _0x5795cc;}}async['queryCreation'](){const _0xa87607=a3_0x3079cb;try{const _0x2b39ea=Helper[_0xa87607(0x1b5)]('accounts');let _0x588417=_0xa87607(0x1a3);for(const _0x51008b of _0x2b39ea){_0x588417+=_0x2b39ea['indexOf'](_0x51008b)+0x1+'.\x20'+_0x51008b+'\x0a';}_0x2b39ea[_0xa87607(0x198)]==0x0?_0x588417+=_0xa87607(0x1c2):_0x588417+='\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:';const _0x4a2894=await a3_0x44048f['text'](_0x588417);this[_0xa87607(0x1c4)]=Helper[_0xa87607(0x171)](_0xa87607(0x18e)+_0x4a2894);let _0xb7edff=_0xa87607(0x1b3);const _0x4fb72a=await a3_0x44048f[_0xa87607(0x19a)](_0xb7edff);await Helper['saveQueryFile'](this['accountName'],_0x4fb72a),a3_0x3c8cc5[_0xa87607(0x18d)](_0xa87607(0x177)+this['accountName']+_0xa87607(0x190)),console[_0xa87607(0x17d)]('Query\x20'+_0x4a2894+_0xa87607(0x189)),await Helper[_0xa87607(0x185)](0xbb8),process['exit']();}catch(_0x11cb11){throw _0x11cb11;}}async[a3_0x3079cb(0x1a5)](){const _0x56327c=a3_0x3079cb;try{const _0x1ef357=Helper[_0x56327c(0x1b5)](_0x56327c(0x1b4));let _0x3bd273='Your\x20Account\x20List\x20:\x0a\x20\x0a';if(_0x1ef357['length']>0x0)for(const _0x21f463 of _0x1ef357){_0x3bd273+=_0x1ef357[_0x56327c(0x1ba)](_0x21f463)+0x1+'.\x20'+_0x21f463+'\x0a';}else _0x3bd273+=_0x56327c(0x1cc);_0x3bd273+=_0x56327c(0x1ac);const _0x178112=await a3_0x44048f['text'](_0x3bd273);if(_0x178112==0x1)await this[_0x56327c(0x1b2)]();else _0x178112==0x2?await this[_0x56327c(0x19d)]():(console['log'](_0x56327c(0x17b)),await this[_0x56327c(0x1a5)]());}catch(_0x1f08db){throw _0x1f08db;}}async[a3_0x3079cb(0x175)](_0x3e5fe3,_0x2b4c4f){const _0x46b641=a3_0x3079cb;try{this[_0x46b641(0x1c7)]=_0x2b4c4f;const _0x3e37e9={'connectionRetries':0x5};this[_0x46b641(0x1c7)]&&(_0x3e37e9[_0x46b641(0x176)]=new HttpsProxyAgent(this[_0x46b641(0x1c7)])),this[_0x46b641(0x187)]=new StoreSession(_0x3e5fe3),this['client']=new TelegramClient(this['storeSession'],Config['TELEGRAM_APP_ID'],Config['TELEGRAM_APP_HASH'],_0x3e37e9),this[_0x46b641(0x1b1)][_0x46b641(0x18a)](LogLevel[_0x46b641(0x183)]),this[_0x46b641(0x187)]['save'](),await this[_0x46b641(0x1b1)]['start']({'phoneNumber':async()=>await a3_0x44048f[_0x46b641(0x19a)](_0x46b641(0x1a8)),'password':async()=>await a3_0x44048f[_0x46b641(0x19a)](_0x46b641(0x195)),'phoneCode':async()=>await a3_0x44048f[_0x46b641(0x19a)](_0x46b641(0x19e)),'onError':_0x5520d5=>{const _0xee27bd=_0x46b641;console[_0xee27bd(0x17d)](_0x5520d5[_0xee27bd(0x192)]);}});}catch(_0x3be084){throw _0x3be084;}}async[a3_0x3079cb(0x1bc)](_0x113866){const _0x12d2bc=a3_0x3079cb;try{a3_0x3c8cc5[_0x12d2bc(0x18d)](_0x12d2bc(0x1cb)+this['session']+_0x12d2bc(0x186));while(this[_0x12d2bc(0x1ab)]==undefined){try{this[_0x12d2bc(0x1ab)]=await this['client'][_0x12d2bc(0x1c0)](this[_0x12d2bc(0x1c8)]);break;}catch(_0x5637b9){if(_0x5637b9 instanceof FloodWaitError){const _0x4fc237=_0x5637b9[_0x12d2bc(0x1b7)];a3_0x3c8cc5[_0x12d2bc(0x197)](this[_0x12d2bc(0x1b1)]['session'][_0x12d2bc(0x170)]+_0x12d2bc(0x1b9)+_0x5637b9),a3_0x3c8cc5[_0x12d2bc(0x18d)](this[_0x12d2bc(0x1b1)][_0x12d2bc(0x1a4)]['serverAddress']+'\x20|\x20Sleep\x20'+_0x4fc237+'s'),await Helper[_0x12d2bc(0x185)](_0x4fc237*0x3e8,_0x113866,this[_0x12d2bc(0x1b1)][_0x12d2bc(0x1a4)][_0x12d2bc(0x170)]+_0x12d2bc(0x1b9)+_0x5637b9);}else throw _0x5637b9;}}}catch(_0xa6799){throw _0xa6799;}}async[a3_0x3079cb(0x18c)](){const _0x1a2c05=a3_0x3079cb;await this[_0x1a2c05(0x1b1)]['disconnect'](),await this[_0x1a2c05(0x1b1)][_0x1a2c05(0x1b6)](),this[_0x1a2c05(0x1ab)]=undefined,this[_0x1a2c05(0x1c4)]=undefined;}async['initWebView'](){const _0x546096=a3_0x3079cb;try{const _0xf46046=await this[_0x546096(0x1b1)][_0x546096(0x17f)](new Api[(_0x546096(0x1ad))]['RequestWebView']({'peer':this[_0x546096(0x1ab)],'bot':this[_0x546096(0x1ab)],'fromBotMenu':!![],'url':this[_0x546096(0x18f)],'platform':_0x546096(0x1c1)}));a3_0x3c8cc5[_0x546096(0x18d)](_0x546096(0x1cb)+this[_0x546096(0x1a4)]+_0x546096(0x1a7));const _0xfa444c=_0xf46046[_0x546096(0x18f)];return Helper[_0x546096(0x1b8)](_0xfa444c,0x3);}catch(_0x511f69){throw _0x511f69;}}}