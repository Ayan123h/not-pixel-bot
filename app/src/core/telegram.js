const a3_0x4b2bee=a3_0x576b;function a3_0x576b(_0x44333d,_0x51e9b3){const _0x2bd860=a3_0x2bd8();return a3_0x576b=function(_0x576bec,_0x8feb8d){_0x576bec=_0x576bec-0x95;let _0x4df55d=_0x2bd860[_0x576bec];return _0x4df55d;},a3_0x576b(_0x44333d,_0x51e9b3);}(function(_0x1427bf,_0x5b1999){const _0x30a54e=a3_0x576b,_0x20788f=_0x1427bf();while(!![]){try{const _0x5b2131=-parseInt(_0x30a54e(0xdc))/0x1+-parseInt(_0x30a54e(0xe6))/0x2*(-parseInt(_0x30a54e(0xdb))/0x3)+parseInt(_0x30a54e(0xc2))/0x4*(-parseInt(_0x30a54e(0xbc))/0x5)+parseInt(_0x30a54e(0xc1))/0x6+parseInt(_0x30a54e(0xbe))/0x7+parseInt(_0x30a54e(0xa7))/0x8*(parseInt(_0x30a54e(0xa2))/0x9)+-parseInt(_0x30a54e(0x9e))/0xa*(parseInt(_0x30a54e(0xa8))/0xb);if(_0x5b2131===_0x5b1999)break;else _0x20788f['push'](_0x20788f['shift']());}catch(_0x520d18){_0x20788f['push'](_0x20788f['shift']());}}}(a3_0x2bd8,0x5d904));import a3_0x524305 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x358785 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';function a3_0x2bd8(){const _0x5eef2b=['init','3723447rFECev','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','storeSession','394500ZdSBBj','281132MNOnCe','/query.txt','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','session','\x20|\x20FloodWait\x20','delay','messages','Enter\x20your\x20Telegram\x20Password?','save','message','accounts/','useSession','accountType','getSession','query-','Query\x20','<empty>','\x20-\x20Webview\x20Connected','proxy','\x20-\x20Created','bot','warn','Invalid\x20Input','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','Old\x20Query\x20:\x20','208809LyPAdg','553517Hxcgkd','accounts','resolvePeer','queryModificaiton','url','createDir','destroy','Your\x20Account\x20List\x20:\x0a\x20\x0a','serverAddress','accountName','14wuSmbZ','error','Please\x20Enter\x20Telegram\x20Query\x20:\x20','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','text','start','exit','sessionCreation','TELEGRAM_APP_ID','filter','peer','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','readQueryFile','agent','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','742280TzjkkD','Session\x20','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','setLogLevel','141444xjseYy','log','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','seconds','query','376RZtJlG','121qMSjWw','getTelegramQuery','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','\x20-\x20Resolving\x20Peer','TELEGRAM_APP_HASH','info','length','Invalid\x20input,\x20Please\x20try\x20again','resetAccounts','\x20|\x20Sleep\x20','client','onBoarding','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','indexOf','disconnect','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','invoke','https://image.notpx.app/','saveQueryFile','5hxdFUV'];a3_0x2bd8=function(){return _0x5eef2b;};return a3_0x2bd8();}import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';import{LogLevel}from'telegram/extensions/Logger.js';export class Telegram{['storeSession'];constructor(){const _0x20171d=a3_0x576b;this['accountName']=_0x20171d(0xdd),this['url']=_0x20171d(0xba),this[_0x20171d(0xd6)]='notpx_bot';}async[a3_0x4b2bee(0xbd)](){const _0x48c57d=a3_0x4b2bee;try{await this[_0x48c57d(0xb3)]();}catch(_0x3c2ee6){console[_0x48c57d(0xa3)](_0x3c2ee6),a3_0x358785['error'](''+JSON['stringify'](_0x3c2ee6));throw _0x3c2ee6;}}async[a3_0x4b2bee(0xb3)](){const _0x30a393=a3_0x4b2bee;try{let _0x259e9b=_0x30a393(0xbf);const _0x46d9f5=Helper[_0x30a393(0xcf)](_0x30a393(0xdd));if(_0x46d9f5[_0x30a393(0xae)]==0x0)_0x259e9b+=_0x30a393(0xd2);else for(const _0x54dea0 of _0x46d9f5){_0x259e9b+='-\x20'+_0x54dea0+'\x0a';}_0x259e9b+=_0x30a393(0xc4),_0x259e9b+=_0x30a393(0x9d);const _0x12cf96=await a3_0x524305[_0x30a393(0xea)](_0x259e9b);if(_0x12cf96==0x1)await this['accountType']();else{if(_0x12cf96==0x2)Helper[_0x30a393(0xb0)](),await Helper[_0x30a393(0xc7)](0xbb8),await this[_0x30a393(0xb3)]();else{if(_0x12cf96==0x3)Helper['getSession'](this['accountName'])?.[_0x30a393(0xae)]==0x0&&(console[_0x30a393(0xad)]('You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first'),await this[_0x30a393(0xb3)]());else _0x12cf96==0x4?await this[_0x30a393(0xdf)]():(console[_0x30a393(0xe7)](_0x30a393(0xaf)),await this[_0x30a393(0xb3)]());}}}catch(_0x306bab){throw _0x306bab;}}async['queryModificaiton'](){const _0x546cd6=a3_0x4b2bee;try{const _0x1f59d2=Helper['getSession'](_0x546cd6(0xdd)),_0x3543c5=_0x1f59d2[_0x546cd6(0x98)](_0x327a46=>_0x327a46['includes'](_0x546cd6(0xa6)));let _0x380874=_0x546cd6(0xa4);for(const _0x2367be of _0x3543c5){_0x380874+=_0x1f59d2[_0x546cd6(0xb6)](_0x2367be)+0x1+'.\x20'+_0x2367be+'\x0a';}_0x3543c5[_0x546cd6(0xae)]==0x0?(console[_0x546cd6(0xa3)]('You\x20dont\x20have\x20any\x20Query\x20Account.'),await this[_0x546cd6(0xb3)]()):_0x380874+=_0x546cd6(0xe9);const _0x53345a=await a3_0x524305[_0x546cd6(0xea)](_0x380874);if(_0x3543c5[_0x53345a-0x1]!=undefined){const _0x3f7b41=_0x3543c5[_0x53345a-0x1];this[_0x546cd6(0xe5)]=_0x546cd6(0xcc)+_0x3f7b41;const _0x2706fe=_0x546cd6(0xda)+Helper[_0x546cd6(0x9b)](this[_0x546cd6(0xe5)]+_0x546cd6(0xc3))+'\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20',_0xd62168=await a3_0x524305[_0x546cd6(0xea)](_0x2706fe);await Helper[_0x546cd6(0xbb)](this[_0x546cd6(0xe5)],_0xd62168),await Helper[_0x546cd6(0xc7)](0xbb8),await this[_0x546cd6(0xb3)]();}else console[_0x546cd6(0xe7)]('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0x546cd6(0xdf)]();}catch(_0x423e38){throw _0x423e38;}}async[a3_0x4b2bee(0x96)](){const _0x2a133d=a3_0x4b2bee;try{if(Config[_0x2a133d(0x97)]==undefined||Config['TELEGRAM_APP_HASH']==undefined)throw new Error(_0x2a133d(0xa0));const _0x521fbb=Helper[_0x2a133d(0xcf)](_0x2a133d(0xdd));let _0x4be15d='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x260e47 of _0x521fbb){_0x4be15d+=_0x521fbb[_0x2a133d(0xb6)](_0x260e47)+0x1+'.\x20'+_0x260e47+'\x0a';}_0x521fbb[_0x2a133d(0xae)]==0x0?_0x4be15d+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:':_0x4be15d+=_0x2a133d(0xb8);const _0x589b10=await a3_0x524305[_0x2a133d(0xea)](_0x4be15d);this['accountName']=Helper['createDir']('sessions-'+_0x589b10),await this[_0x2a133d(0xcd)](this[_0x2a133d(0xe5)]),await this[_0x2a133d(0xb7)](),a3_0x358785[_0x2a133d(0xad)](_0x2a133d(0x9f)+this[_0x2a133d(0xe5)]+_0x2a133d(0xd5)),console[_0x2a133d(0xa3)](_0x2a133d(0x9f)+_0x589b10+_0x2a133d(0x9a)),this['storeSession'][_0x2a133d(0xca)](),await Helper['delay'](0xbb8),process[_0x2a133d(0x95)]();}catch(_0x16904f){throw _0x16904f;}}async['queryCreation'](){const _0x5d468d=a3_0x4b2bee;try{const _0x2ed743=Helper[_0x5d468d(0xcf)](_0x5d468d(0xdd));let _0x5f3903='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x5bab94 of _0x2ed743){_0x5f3903+=_0x2ed743[_0x5d468d(0xb6)](_0x5bab94)+0x1+'.\x20'+_0x5bab94+'\x0a';}_0x2ed743[_0x5d468d(0xae)]==0x0?_0x5f3903+=_0x5d468d(0xb4):_0x5f3903+=_0x5d468d(0xd9);const _0x31ae30=await a3_0x524305[_0x5d468d(0xea)](_0x5f3903);this[_0x5d468d(0xe5)]=Helper[_0x5d468d(0xe1)](_0x5d468d(0xd0)+_0x31ae30);let _0x2e086a=_0x5d468d(0xe8);const _0x1b756b=await a3_0x524305['text'](_0x2e086a);await Helper[_0x5d468d(0xbb)](this[_0x5d468d(0xe5)],_0x1b756b),a3_0x358785['info'](_0x5d468d(0xd1)+this['accountName']+_0x5d468d(0xd5)),console[_0x5d468d(0xa3)](_0x5d468d(0xd1)+_0x31ae30+'\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again'),await Helper['delay'](0xbb8),process[_0x5d468d(0x95)]();}catch(_0x364d8d){throw _0x364d8d;}}async['accountType'](){const _0x397b4f=a3_0x4b2bee;try{const _0x45c4df=Helper[_0x397b4f(0xcf)](_0x397b4f(0xdd));let _0x55b630=_0x397b4f(0xe3);if(_0x45c4df[_0x397b4f(0xae)]>0x0)for(const _0x206637 of _0x45c4df){_0x55b630+=_0x45c4df['indexOf'](_0x206637)+0x1+'.\x20'+_0x206637+'\x0a';}else _0x55b630+='<empty>\x0a';_0x55b630+=_0x397b4f(0xaa);const _0x1be9d9=await a3_0x524305[_0x397b4f(0xea)](_0x55b630);if(_0x1be9d9==0x1)await this['sessionCreation']();else _0x1be9d9==0x2?await this['queryCreation']():(console['log'](_0x397b4f(0xd8)),await this[_0x397b4f(0xce)]());}catch(_0x134c7c){throw _0x134c7c;}}async['useSession'](_0x4a0126,_0x5c2caf){const _0x4f12c1=a3_0x4b2bee;try{this[_0x4f12c1(0xd4)]=_0x5c2caf;const _0x16a113={'connectionRetries':0x5};this[_0x4f12c1(0xd4)]&&(_0x16a113[_0x4f12c1(0x9c)]=new HttpsProxyAgent(this[_0x4f12c1(0xd4)])),this[_0x4f12c1(0xc0)]=new StoreSession(_0x4a0126),this['client']=new TelegramClient(this['storeSession'],Config[_0x4f12c1(0x97)],Config[_0x4f12c1(0xac)],_0x16a113),this['client'][_0x4f12c1(0xa1)](LogLevel['ERROR']),this[_0x4f12c1(0xc0)][_0x4f12c1(0xca)](),await this[_0x4f12c1(0xb2)][_0x4f12c1(0xeb)]({'phoneNumber':async()=>await a3_0x524305['text'](_0x4f12c1(0xb5)),'password':async()=>await a3_0x524305['text'](_0x4f12c1(0xc9)),'phoneCode':async()=>await a3_0x524305['text']('Enter\x20your\x20Telegram\x20Verification\x20Code\x20?'),'onError':_0x10894d=>{const _0x469aef=_0x4f12c1;console['log'](_0x10894d[_0x469aef(0xcb)]);}});}catch(_0x409e67){throw _0x409e67;}}async[a3_0x4b2bee(0xde)](_0xbee277){const _0x2ff8eb=a3_0x4b2bee;try{a3_0x358785[_0x2ff8eb(0xad)](_0x2ff8eb(0x9f)+this[_0x2ff8eb(0xc5)]+_0x2ff8eb(0xab));while(this[_0x2ff8eb(0x99)]==undefined){try{this['peer']=await this[_0x2ff8eb(0xb2)]['getEntity'](this[_0x2ff8eb(0xd6)]);break;}catch(_0x3ae454){if(_0x3ae454 instanceof FloodWaitError){const _0x29eaa2=_0x3ae454[_0x2ff8eb(0xa5)];a3_0x358785[_0x2ff8eb(0xd7)](this[_0x2ff8eb(0xb2)]['session'][_0x2ff8eb(0xe4)]+_0x2ff8eb(0xc6)+_0x3ae454),a3_0x358785[_0x2ff8eb(0xad)](this['client'][_0x2ff8eb(0xc5)][_0x2ff8eb(0xe4)]+_0x2ff8eb(0xb1)+_0x29eaa2+'s'),await Helper[_0x2ff8eb(0xc7)](_0x29eaa2*0x3e8,_0xbee277,this['client'][_0x2ff8eb(0xc5)]['serverAddress']+_0x2ff8eb(0xc6)+_0x3ae454);}else throw _0x3ae454;}}}catch(_0x5f46e6){throw _0x5f46e6;}}async[a3_0x4b2bee(0xb7)](){const _0x568e7a=a3_0x4b2bee;await this[_0x568e7a(0xb2)][_0x568e7a(0xb7)](),await this[_0x568e7a(0xb2)][_0x568e7a(0xe2)](),this[_0x568e7a(0x99)]=undefined,this['accountName']=undefined;}async['initWebView'](){const _0x3c37b7=a3_0x4b2bee;try{const _0x3d4560=await this['client'][_0x3c37b7(0xb9)](new Api[(_0x3c37b7(0xc8))]['RequestWebView']({'peer':this[_0x3c37b7(0x99)],'bot':this['peer'],'fromBotMenu':!![],'url':this['url'],'platform':'android'}));a3_0x358785[_0x3c37b7(0xad)](_0x3c37b7(0x9f)+this[_0x3c37b7(0xc5)]+_0x3c37b7(0xd3));const _0xdbbfb3=_0x3d4560[_0x3c37b7(0xe0)];return Helper[_0x3c37b7(0xa9)](_0xdbbfb3,0x3);}catch(_0x35236c){throw _0x35236c;}}}