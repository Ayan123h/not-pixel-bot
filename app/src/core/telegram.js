const a3_0x2d2f69=a3_0x438b;(function(_0x556474,_0x2eb060){const _0x419709=a3_0x438b,_0x4eedb8=_0x556474();while(!![]){try{const _0x3d1cb2=parseInt(_0x419709(0x1f6))/0x1*(-parseInt(_0x419709(0x1cb))/0x2)+-parseInt(_0x419709(0x1e8))/0x3+-parseInt(_0x419709(0x1de))/0x4*(-parseInt(_0x419709(0x1cd))/0x5)+-parseInt(_0x419709(0x1f0))/0x6+-parseInt(_0x419709(0x21f))/0x7*(parseInt(_0x419709(0x213))/0x8)+-parseInt(_0x419709(0x1f1))/0x9+-parseInt(_0x419709(0x20c))/0xa*(-parseInt(_0x419709(0x1ee))/0xb);if(_0x3d1cb2===_0x2eb060)break;else _0x4eedb8['push'](_0x4eedb8['shift']());}catch(_0x3dba50){_0x4eedb8['push'](_0x4eedb8['shift']());}}}(a3_0x50ea,0x3b7f1));import a3_0x37dc8e from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';function a3_0x438b(_0x296668,_0x1049b5){const _0x50ea9e=a3_0x50ea();return a3_0x438b=function(_0x438bb4,_0x28b40f){_0x438bb4=_0x438bb4-0x1ca;let _0x1edea3=_0x50ea9e[_0x438bb4];return _0x1edea3;},a3_0x438b(_0x296668,_0x1049b5);}import a3_0x347f36 from'../utils/logger.js';function a3_0x50ea(){const _0x2e76a1=['readQueryFile','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','accounts/','peer','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','warn','includes','Session\x20','TELEGRAM_APP_HASH','query','Old\x20Query\x20:\x20','getEntity','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','info','TELEGRAM_APP_ID','save','notpx_bot','seconds','session','bot','url','5990JSRumd','saveQueryFile','queryCreation','accountName','\x20-\x20Resolving\x20Peer','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','indexOf','16XkXvoz','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','sessions-','error','invoke','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','\x20|\x20Sleep\x20','Your\x20Account\x20List\x20:\x0a\x20\x0a','init','Query\x20','accountType','proxy','1535849XUqFSQ','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','message','898BwxwUq','sessionCreation','5uMYLhO','storeSession','length','text','Invalid\x20input,\x20Please\x20try\x20again','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','delay','resolvePeer','getSession','\x20-\x20Created','destroy','Enter\x20your\x20Telegram\x20Password?','\x20|\x20FloodWait\x20','messages','useSession','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','createDir','464276luqfkp','RequestWebView','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','<empty>','query-','\x20-\x20Webview\x20Connected','disconnect','exit','queryModificaiton','initWebView','1427559zPtQVy','log','stringify','onBoarding','client','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','22022acBPTZ','getTelegramQuery','127776igvWAj','1204299SFmlJe','accounts','You\x20dont\x20have\x20any\x20Query\x20Account.','start','serverAddress','4SlOcHX'];a3_0x50ea=function(){return _0x2e76a1;};return a3_0x50ea();}import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';import{LogLevel}from'telegram/extensions/Logger.js';export class Telegram{[a3_0x2d2f69(0x1ce)];constructor(){const _0x194e08=a3_0x2d2f69;this[_0x194e08(0x20f)]=_0x194e08(0x1f2),this[_0x194e08(0x20b)]='https://image.notpx.app/',this[_0x194e08(0x20a)]=_0x194e08(0x207);}async[a3_0x2d2f69(0x21b)](){const _0x5517db=a3_0x2d2f69;try{await this['onBoarding']();}catch(_0xbee62e){console[_0x5517db(0x1e9)](_0xbee62e),a3_0x347f36[_0x5517db(0x216)](''+JSON[_0x5517db(0x1ea)](_0xbee62e));throw _0xbee62e;}}async[a3_0x2d2f69(0x1eb)](){const _0x35a21f=a3_0x2d2f69;try{let _0x3bb3d8=_0x35a21f(0x1f8);const _0x160f21=Helper[_0x35a21f(0x1d5)](_0x35a21f(0x1f2));if(_0x160f21['length']==0x0)_0x3bb3d8+=_0x35a21f(0x1e1);else for(const _0x480a59 of _0x160f21){_0x3bb3d8+='-\x20'+_0x480a59+'\x0a';}_0x3bb3d8+=_0x35a21f(0x1ed),_0x3bb3d8+='\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:';const _0x128cf9=await a3_0x37dc8e[_0x35a21f(0x1d0)](_0x3bb3d8);if(_0x128cf9==0x1)await this[_0x35a21f(0x21d)]();else{if(_0x128cf9==0x2)Helper['resetAccounts'](),await Helper['delay'](0xbb8),await this['onBoarding']();else{if(_0x128cf9==0x3)Helper[_0x35a21f(0x1d5)](this['accountName'])?.[_0x35a21f(0x1cf)]==0x0&&(console[_0x35a21f(0x204)](_0x35a21f(0x211)),await this[_0x35a21f(0x1eb)]());else _0x128cf9==0x4?await this['queryModificaiton']():(console[_0x35a21f(0x216)](_0x35a21f(0x1d1)),await this[_0x35a21f(0x1eb)]());}}}catch(_0x181da0){throw _0x181da0;}}async[a3_0x2d2f69(0x1e6)](){const _0x23d88f=a3_0x2d2f69;try{const _0x546a54=Helper['getSession'](_0x23d88f(0x1f2)),_0x52abcc=_0x546a54['filter'](_0x252142=>_0x252142[_0x23d88f(0x1fd)](_0x23d88f(0x200)));let _0x1181e0='Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x996393 of _0x52abcc){_0x1181e0+=_0x546a54[_0x23d88f(0x212)](_0x996393)+0x1+'.\x20'+_0x996393+'\x0a';}_0x52abcc['length']==0x0?(console[_0x23d88f(0x1e9)](_0x23d88f(0x1f3)),await this['onBoarding']()):_0x1181e0+=_0x23d88f(0x220);const _0x4d8c0c=await a3_0x37dc8e[_0x23d88f(0x1d0)](_0x1181e0);if(_0x52abcc[_0x4d8c0c-0x1]!=undefined){const _0x517574=_0x52abcc[_0x4d8c0c-0x1];this['accountName']=_0x23d88f(0x1f9)+_0x517574;const _0x12a08b=_0x23d88f(0x201)+Helper[_0x23d88f(0x1f7)](this['accountName']+'/query.txt')+_0x23d88f(0x203),_0xed5e7c=await a3_0x37dc8e[_0x23d88f(0x1d0)](_0x12a08b);await Helper['saveQueryFile'](this[_0x23d88f(0x20f)],_0xed5e7c),await Helper['delay'](0xbb8),await this[_0x23d88f(0x1eb)]();}else console[_0x23d88f(0x216)]('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0x23d88f(0x1e6)]();}catch(_0x5de112){throw _0x5de112;}}async[a3_0x2d2f69(0x1cc)](){const _0x258de1=a3_0x2d2f69;try{if(Config[_0x258de1(0x205)]==undefined||Config[_0x258de1(0x1ff)]==undefined)throw new Error(_0x258de1(0x1d2));const _0x3af854=Helper['getSession']('accounts');let _0x1bb7ed='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x22e3f2 of _0x3af854){_0x1bb7ed+=_0x3af854['indexOf'](_0x22e3f2)+0x1+'.\x20'+_0x22e3f2+'\x0a';}_0x3af854['length']==0x0?_0x1bb7ed+=_0x258de1(0x214):_0x1bb7ed+=_0x258de1(0x1fb);const _0x1e4f6a=await a3_0x37dc8e[_0x258de1(0x1d0)](_0x1bb7ed);this[_0x258de1(0x20f)]=Helper['createDir'](_0x258de1(0x215)+_0x1e4f6a),await this[_0x258de1(0x1db)](this[_0x258de1(0x20f)]),await this['disconnect'](),a3_0x347f36['info'](_0x258de1(0x1fe)+this[_0x258de1(0x20f)]+'\x20-\x20Created'),console['log']('Session\x20'+_0x1e4f6a+_0x258de1(0x1e0)),this[_0x258de1(0x1ce)][_0x258de1(0x206)](),await Helper['delay'](0xbb8),process[_0x258de1(0x1e5)]();}catch(_0x23d455){throw _0x23d455;}}async[a3_0x2d2f69(0x20e)](){const _0x1e2cdb=a3_0x2d2f69;try{const _0x182edb=Helper[_0x1e2cdb(0x1d5)](_0x1e2cdb(0x1f2));let _0x277c49=_0x1e2cdb(0x21a);for(const _0x18c1dd of _0x182edb){_0x277c49+=_0x182edb[_0x1e2cdb(0x212)](_0x18c1dd)+0x1+'.\x20'+_0x18c1dd+'\x0a';}_0x182edb[_0x1e2cdb(0x1cf)]==0x0?_0x277c49+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:':_0x277c49+=_0x1e2cdb(0x218);const _0x16f59b=await a3_0x37dc8e['text'](_0x277c49);this['accountName']=Helper[_0x1e2cdb(0x1dd)](_0x1e2cdb(0x1e2)+_0x16f59b);let _0x371df5='Please\x20Enter\x20Telegram\x20Query\x20:\x20';const _0x37ad47=await a3_0x37dc8e[_0x1e2cdb(0x1d0)](_0x371df5);await Helper[_0x1e2cdb(0x20d)](this[_0x1e2cdb(0x20f)],_0x37ad47),a3_0x347f36['info'](_0x1e2cdb(0x21c)+this[_0x1e2cdb(0x20f)]+_0x1e2cdb(0x1d6)),console[_0x1e2cdb(0x1e9)](_0x1e2cdb(0x21c)+_0x16f59b+'\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again'),await Helper[_0x1e2cdb(0x1d3)](0xbb8),process[_0x1e2cdb(0x1e5)]();}catch(_0x18f5f3){throw _0x18f5f3;}}async[a3_0x2d2f69(0x21d)](){const _0x24d6c8=a3_0x2d2f69;try{const _0x1cac2b=Helper[_0x24d6c8(0x1d5)](_0x24d6c8(0x1f2));let _0x103429=_0x24d6c8(0x21a);if(_0x1cac2b[_0x24d6c8(0x1cf)]>0x0)for(const _0xee76fc of _0x1cac2b){_0x103429+=_0x1cac2b['indexOf'](_0xee76fc)+0x1+'.\x20'+_0xee76fc+'\x0a';}else _0x103429+='<empty>\x0a';_0x103429+='\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20';const _0x20975a=await a3_0x37dc8e['text'](_0x103429);if(_0x20975a==0x1)await this[_0x24d6c8(0x1cc)]();else _0x20975a==0x2?await this['queryCreation']():(console[_0x24d6c8(0x1e9)]('Invalid\x20Input'),await this[_0x24d6c8(0x21d)]());}catch(_0x54da13){throw _0x54da13;}}async[a3_0x2d2f69(0x1db)](_0x52a572,_0x1932b1){const _0x14c76e=a3_0x2d2f69;try{this['proxy']=_0x1932b1;const _0x418e82={'connectionRetries':0x5};this[_0x14c76e(0x21e)]&&(_0x418e82['agent']=new HttpsProxyAgent(this[_0x14c76e(0x21e)])),this[_0x14c76e(0x1ce)]=new StoreSession(_0x52a572),this[_0x14c76e(0x1ec)]=new TelegramClient(this['storeSession'],Config[_0x14c76e(0x205)],Config[_0x14c76e(0x1ff)],_0x418e82),this['client']['setLogLevel'](LogLevel['ERROR']),this[_0x14c76e(0x1ce)]['save'](),await this[_0x14c76e(0x1ec)][_0x14c76e(0x1f4)]({'phoneNumber':async()=>await a3_0x37dc8e[_0x14c76e(0x1d0)](_0x14c76e(0x1dc)),'password':async()=>await a3_0x37dc8e['text'](_0x14c76e(0x1d8)),'phoneCode':async()=>await a3_0x37dc8e[_0x14c76e(0x1d0)]('Enter\x20your\x20Telegram\x20Verification\x20Code\x20?'),'onError':_0x253c93=>{const _0x174364=_0x14c76e;console[_0x174364(0x1e9)](_0x253c93[_0x174364(0x1ca)]);}});}catch(_0x2b7c51){throw _0x2b7c51;}}async[a3_0x2d2f69(0x1d4)](_0x29dde5){const _0x16d79c=a3_0x2d2f69;try{a3_0x347f36['info'](_0x16d79c(0x1fe)+this['session']+_0x16d79c(0x210));while(this[_0x16d79c(0x1fa)]==undefined){try{this[_0x16d79c(0x1fa)]=await this[_0x16d79c(0x1ec)][_0x16d79c(0x202)](this[_0x16d79c(0x20a)]);break;}catch(_0x241760){if(_0x241760 instanceof FloodWaitError){const _0x3c08d4=_0x241760[_0x16d79c(0x208)];a3_0x347f36[_0x16d79c(0x1fc)](this[_0x16d79c(0x1ec)]['session'][_0x16d79c(0x1f5)]+_0x16d79c(0x1d9)+_0x241760),a3_0x347f36[_0x16d79c(0x204)](this[_0x16d79c(0x1ec)][_0x16d79c(0x209)]['serverAddress']+_0x16d79c(0x219)+_0x3c08d4+'s'),await Helper['delay'](_0x3c08d4*0x3e8,_0x29dde5,this[_0x16d79c(0x1ec)]['session']['serverAddress']+'\x20|\x20FloodWait\x20'+_0x241760);}else throw _0x241760;}}}catch(_0x34f8db){throw _0x34f8db;}}async[a3_0x2d2f69(0x1e4)](){const _0x292c27=a3_0x2d2f69;await this[_0x292c27(0x1ec)]['disconnect'](),await this[_0x292c27(0x1ec)][_0x292c27(0x1d7)](),this[_0x292c27(0x1fa)]=undefined,this[_0x292c27(0x20f)]=undefined;}async[a3_0x2d2f69(0x1e7)](){const _0x2c91f3=a3_0x2d2f69;try{const _0x4d1df5=await this[_0x2c91f3(0x1ec)][_0x2c91f3(0x217)](new Api[(_0x2c91f3(0x1da))][(_0x2c91f3(0x1df))]({'peer':this[_0x2c91f3(0x1fa)],'bot':this[_0x2c91f3(0x1fa)],'fromBotMenu':!![],'url':this[_0x2c91f3(0x20b)],'platform':'android'}));a3_0x347f36[_0x2c91f3(0x204)](_0x2c91f3(0x1fe)+this[_0x2c91f3(0x209)]+_0x2c91f3(0x1e3));const _0x125a2e=_0x4d1df5[_0x2c91f3(0x20b)];return Helper[_0x2c91f3(0x1ef)](_0x125a2e,0x3);}catch(_0x2d2202){throw _0x2d2202;}}}