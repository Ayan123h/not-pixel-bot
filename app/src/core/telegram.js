const a3_0x47c1bc=a3_0xae0e;(function(_0x53239c,_0x500959){const _0x2caf5c=a3_0xae0e,_0x43344e=_0x53239c();while(!![]){try{const _0x3230f0=parseInt(_0x2caf5c(0xd9))/0x1+parseInt(_0x2caf5c(0x109))/0x2*(-parseInt(_0x2caf5c(0xf0))/0x3)+-parseInt(_0x2caf5c(0xf7))/0x4*(-parseInt(_0x2caf5c(0xd3))/0x5)+-parseInt(_0x2caf5c(0xe7))/0x6+parseInt(_0x2caf5c(0xc7))/0x7+-parseInt(_0x2caf5c(0x101))/0x8*(parseInt(_0x2caf5c(0xd2))/0x9)+parseInt(_0x2caf5c(0xc8))/0xa;if(_0x3230f0===_0x500959)break;else _0x43344e['push'](_0x43344e['shift']());}catch(_0x570640){_0x43344e['push'](_0x43344e['shift']());}}}(a3_0x32e7,0x9c0dc));import a3_0x4c56ef from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x1dbd71 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';function a3_0x32e7(){const _0x2a863f=['android','query','sessions-','log','ERROR','https://image.notpx.app/','Invalid\x20Input','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','173154oaqWmc','invoke','Your\x20Account\x20List\x20:\x0a\x20\x0a','text','getTelegramQuery','save','bot','1515396mfVlLi','Invalid\x20input,\x20Please\x20try\x20again','indexOf','destroy','messages','agent','exit','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','\x20|\x20Sleep\x20','Session\x20','32WyhsSu','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','saveQueryFile','session','createDir','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','url','info','14lRWKXG','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','readQueryFile','warn','\x20-\x20Resolving\x20Peer','setLogLevel','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','queryCreation','TELEGRAM_APP_HASH','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','useSession','getEntity','accountName','Query\x20','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','TELEGRAM_APP_ID','3303545ZBeJfA','2828270dyZsbu','storeSession','<empty>','disconnect','\x20|\x20FloodWait\x20','queryModificaiton','getSession','delay','length','onBoarding','1344834SzyHkG','10zfTuQw','Enter\x20your\x20Telegram\x20Password?','accounts','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','You\x20dont\x20have\x20any\x20Query\x20Account.','sessionCreation','492968hJsjtl','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','proxy','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','Please\x20Enter\x20Telegram\x20Query\x20:\x20','error','peer','init','initWebView','client','\x20-\x20Created','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','serverAddress','accountType','2187012GRNzYt'];a3_0x32e7=function(){return _0x2a863f;};return a3_0x32e7();}import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';function a3_0xae0e(_0x31d97f,_0x547f5a){const _0x32e70b=a3_0x32e7();return a3_0xae0e=function(_0xae0e32,_0x1e592f){_0xae0e32=_0xae0e32-0xc1;let _0x1ae805=_0x32e70b[_0xae0e32];return _0x1ae805;},a3_0xae0e(_0x31d97f,_0x547f5a);}import{LogLevel}from'telegram/extensions/Logger.js';export class Telegram{[a3_0x47c1bc(0xc9)];constructor(){const _0x11659a=a3_0x47c1bc;this[_0x11659a(0xc2)]=_0x11659a(0xd5),this[_0x11659a(0x107)]=_0x11659a(0xed),this['bot']='notpx_bot';}async[a3_0x47c1bc(0xe0)](){const _0x4a0b66=a3_0x47c1bc;try{await this[_0x4a0b66(0xd1)]();}catch(_0x3d5951){console[_0x4a0b66(0xeb)](_0x3d5951),a3_0x1dbd71['error'](''+JSON['stringify'](_0x3d5951));throw _0x3d5951;}}async[a3_0x47c1bc(0xd1)](){const _0x4010c2=a3_0x47c1bc;try{let _0x179f78=_0x4010c2(0x110);const _0x253a58=Helper[_0x4010c2(0xce)](_0x4010c2(0xd5));if(_0x253a58['length']==0x0)_0x179f78+=_0x4010c2(0xca);else for(const _0xc5a84 of _0x253a58){_0x179f78+='-\x20'+_0xc5a84+'\x0a';}_0x179f78+=_0x4010c2(0xe4),_0x179f78+='\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:';const _0xc24b88=await a3_0x4c56ef[_0x4010c2(0xf3)](_0x179f78);if(_0xc24b88==0x1)await this['accountType']();else{if(_0xc24b88==0x2)Helper['resetAccounts'](),await Helper[_0x4010c2(0xcf)](0xbb8),await this[_0x4010c2(0xd1)]();else{if(_0xc24b88==0x3)Helper[_0x4010c2(0xce)](this[_0x4010c2(0xc2)])?.[_0x4010c2(0xd0)]==0x0&&(console[_0x4010c2(0x108)](_0x4010c2(0x102)),await this[_0x4010c2(0xd1)]());else _0xc24b88==0x4?await this[_0x4010c2(0xcd)]():(console['error']('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0x4010c2(0xd1)]());}}}catch(_0x3d3113){throw _0x3d3113;}}async[a3_0x47c1bc(0xcd)](){const _0x25452f=a3_0x47c1bc;try{const _0x4593e0=Helper[_0x25452f(0xce)](_0x25452f(0xd5)),_0x364243=_0x4593e0['filter'](_0x4318a9=>_0x4318a9['includes'](_0x25452f(0xe9)));let _0x5903f2=_0x25452f(0x113);for(const _0x3e1226 of _0x364243){_0x5903f2+=_0x4593e0[_0x25452f(0xf9)](_0x3e1226)+0x1+'.\x20'+_0x3e1226+'\x0a';}_0x364243[_0x25452f(0xd0)]==0x0?(console[_0x25452f(0xeb)](_0x25452f(0xd7)),await this[_0x25452f(0xd1)]()):_0x5903f2+=_0x25452f(0x10f);const _0x4d6ee0=await a3_0x4c56ef[_0x25452f(0xf3)](_0x5903f2);if(_0x364243[_0x4d6ee0-0x1]!=undefined){const _0x2b3b05=_0x364243[_0x4d6ee0-0x1];this['accountName']='accounts/'+_0x2b3b05;const _0x3f28f6='Old\x20Query\x20:\x20'+Helper[_0x25452f(0x10b)](this[_0x25452f(0xc2)]+'/query.txt')+_0x25452f(0xfe),_0x5178f3=await a3_0x4c56ef[_0x25452f(0xf3)](_0x3f28f6);await Helper[_0x25452f(0x103)](this[_0x25452f(0xc2)],_0x5178f3),await Helper['delay'](0xbb8),await this[_0x25452f(0xd1)]();}else console[_0x25452f(0xde)](_0x25452f(0xf8)),await this[_0x25452f(0xcd)]();}catch(_0x31a26f){throw _0x31a26f;}}async['sessionCreation'](){const _0x3b30a1=a3_0x47c1bc;try{if(Config[_0x3b30a1(0xc6)]==undefined||Config['TELEGRAM_APP_HASH']==undefined)throw new Error(_0x3b30a1(0xc4));const _0x394dbf=Helper[_0x3b30a1(0xce)](_0x3b30a1(0xd5));let _0x27353f=_0x3b30a1(0xf2);for(const _0x4c010c of _0x394dbf){_0x27353f+=_0x394dbf[_0x3b30a1(0xf9)](_0x4c010c)+0x1+'.\x20'+_0x4c010c+'\x0a';}_0x394dbf[_0x3b30a1(0xd0)]==0x0?_0x27353f+=_0x3b30a1(0x10a):_0x27353f+=_0x3b30a1(0x106);const _0x1fb5d9=await a3_0x4c56ef['text'](_0x27353f);this['accountName']=Helper[_0x3b30a1(0x105)](_0x3b30a1(0xea)+_0x1fb5d9),await this[_0x3b30a1(0x114)](this[_0x3b30a1(0xc2)]),await this[_0x3b30a1(0xcb)](),a3_0x1dbd71['info'](_0x3b30a1(0x100)+this[_0x3b30a1(0xc2)]+_0x3b30a1(0xe3)),console[_0x3b30a1(0xeb)](_0x3b30a1(0x100)+_0x1fb5d9+_0x3b30a1(0xef)),this[_0x3b30a1(0xc9)][_0x3b30a1(0xf5)](),await Helper[_0x3b30a1(0xcf)](0xbb8),process[_0x3b30a1(0xfd)]();}catch(_0x38a87d){throw _0x38a87d;}}async['queryCreation'](){const _0x18a590=a3_0x47c1bc;try{const _0x3c89a5=Helper[_0x18a590(0xce)]('accounts');let _0x26b1ad='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x4c9bf8 of _0x3c89a5){_0x26b1ad+=_0x3c89a5[_0x18a590(0xf9)](_0x4c9bf8)+0x1+'.\x20'+_0x4c9bf8+'\x0a';}_0x3c89a5['length']==0x0?_0x26b1ad+=_0x18a590(0xdc):_0x26b1ad+=_0x18a590(0xda);const _0x55130d=await a3_0x4c56ef[_0x18a590(0xf3)](_0x26b1ad);this[_0x18a590(0xc2)]=Helper[_0x18a590(0x105)]('query-'+_0x55130d);let _0x2f92ae=_0x18a590(0xdd);const _0x5dd474=await a3_0x4c56ef['text'](_0x2f92ae);await Helper[_0x18a590(0x103)](this[_0x18a590(0xc2)],_0x5dd474),a3_0x1dbd71['info']('Query\x20'+this[_0x18a590(0xc2)]+_0x18a590(0xe3)),console[_0x18a590(0xeb)](_0x18a590(0xc3)+_0x55130d+'\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again'),await Helper[_0x18a590(0xcf)](0xbb8),process[_0x18a590(0xfd)]();}catch(_0x50d9e8){throw _0x50d9e8;}}async[a3_0x47c1bc(0xe6)](){const _0x5f0ccf=a3_0x47c1bc;try{const _0x4c81eb=Helper[_0x5f0ccf(0xce)](_0x5f0ccf(0xd5));let _0x47e964=_0x5f0ccf(0xf2);if(_0x4c81eb[_0x5f0ccf(0xd0)]>0x0)for(const _0xc02343 of _0x4c81eb){_0x47e964+=_0x4c81eb['indexOf'](_0xc02343)+0x1+'.\x20'+_0xc02343+'\x0a';}else _0x47e964+='<empty>\x0a';_0x47e964+=_0x5f0ccf(0xd6);const _0x1e7bdc=await a3_0x4c56ef['text'](_0x47e964);if(_0x1e7bdc==0x1)await this[_0x5f0ccf(0xd8)]();else _0x1e7bdc==0x2?await this[_0x5f0ccf(0x111)]():(console[_0x5f0ccf(0xeb)](_0x5f0ccf(0xee)),await this[_0x5f0ccf(0xe6)]());}catch(_0x39307c){throw _0x39307c;}}async[a3_0x47c1bc(0x114)](_0x89bc3a,_0x5bfa17){const _0x1acfca=a3_0x47c1bc;try{this[_0x1acfca(0xdb)]=_0x5bfa17;const _0x52f859={'connectionRetries':0x5};this['proxy']&&(_0x52f859[_0x1acfca(0xfc)]=new HttpsProxyAgent(this['proxy'])),this['storeSession']=new StoreSession(_0x89bc3a),this[_0x1acfca(0xe2)]=new TelegramClient(this['storeSession'],Config[_0x1acfca(0xc6)],Config[_0x1acfca(0x112)],_0x52f859),this[_0x1acfca(0xe2)][_0x1acfca(0x10e)](LogLevel[_0x1acfca(0xec)]),this[_0x1acfca(0xc9)]['save'](),await this[_0x1acfca(0xe2)]['start']({'phoneNumber':async()=>await a3_0x4c56ef[_0x1acfca(0xf3)](_0x1acfca(0xc5)),'password':async()=>await a3_0x4c56ef[_0x1acfca(0xf3)](_0x1acfca(0xd4)),'phoneCode':async()=>await a3_0x4c56ef['text']('Enter\x20your\x20Telegram\x20Verification\x20Code\x20?'),'onError':_0x1929f0=>{const _0x7d2243=_0x1acfca;console[_0x7d2243(0xeb)](_0x1929f0['message']);}});}catch(_0x15c758){throw _0x15c758;}}async['resolvePeer'](_0x27ad70){const _0x5a2fe7=a3_0x47c1bc;try{a3_0x1dbd71[_0x5a2fe7(0x108)](_0x5a2fe7(0x100)+this[_0x5a2fe7(0x104)]+_0x5a2fe7(0x10d));while(this[_0x5a2fe7(0xdf)]==undefined){try{this[_0x5a2fe7(0xdf)]=await this[_0x5a2fe7(0xe2)][_0x5a2fe7(0xc1)](this[_0x5a2fe7(0xf6)]);break;}catch(_0x18d10d){if(_0x18d10d instanceof FloodWaitError){const _0x27f9b4=_0x18d10d['seconds'];a3_0x1dbd71[_0x5a2fe7(0x10c)](this['client']['session'][_0x5a2fe7(0xe5)]+_0x5a2fe7(0xcc)+_0x18d10d),a3_0x1dbd71[_0x5a2fe7(0x108)](this['client'][_0x5a2fe7(0x104)][_0x5a2fe7(0xe5)]+_0x5a2fe7(0xff)+_0x27f9b4+'s'),await Helper[_0x5a2fe7(0xcf)](_0x27f9b4*0x3e8,_0x27ad70,this[_0x5a2fe7(0xe2)]['session']['serverAddress']+_0x5a2fe7(0xcc)+_0x18d10d);}else throw _0x18d10d;}}}catch(_0x3d5d22){throw _0x3d5d22;}}async[a3_0x47c1bc(0xcb)](){const _0x3b9bb2=a3_0x47c1bc;await this['client'][_0x3b9bb2(0xcb)](),await this[_0x3b9bb2(0xe2)][_0x3b9bb2(0xfa)](),this[_0x3b9bb2(0xdf)]=undefined,this[_0x3b9bb2(0xc2)]=undefined;}async[a3_0x47c1bc(0xe1)](){const _0x3129ef=a3_0x47c1bc;try{const _0x7ba853=await this[_0x3129ef(0xe2)][_0x3129ef(0xf1)](new Api[(_0x3129ef(0xfb))]['RequestWebView']({'peer':this[_0x3129ef(0xdf)],'bot':this[_0x3129ef(0xdf)],'fromBotMenu':!![],'url':this[_0x3129ef(0x107)],'platform':_0x3129ef(0xe8)}));a3_0x1dbd71[_0x3129ef(0x108)]('Session\x20'+this[_0x3129ef(0x104)]+'\x20-\x20Webview\x20Connected');const _0x526936=_0x7ba853['url'];return Helper[_0x3129ef(0xf4)](_0x526936,0x3);}catch(_0xa811aa){throw _0xa811aa;}}}