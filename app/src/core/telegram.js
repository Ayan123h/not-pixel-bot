const a3_0x150220=a3_0xaf8e;(function(_0x2b72b7,_0x4a411b){const _0x4674aa=a3_0xaf8e,_0x3214ad=_0x2b72b7();while(!![]){try{const _0x1c9ce0=parseInt(_0x4674aa(0x137))/0x1+parseInt(_0x4674aa(0xf7))/0x2+parseInt(_0x4674aa(0xfa))/0x3*(parseInt(_0x4674aa(0x139))/0x4)+-parseInt(_0x4674aa(0x13d))/0x5*(parseInt(_0x4674aa(0x108))/0x6)+parseInt(_0x4674aa(0x11f))/0x7*(-parseInt(_0x4674aa(0x117))/0x8)+-parseInt(_0x4674aa(0x10f))/0x9+-parseInt(_0x4674aa(0x12d))/0xa*(parseInt(_0x4674aa(0xff))/0xb);if(_0x1c9ce0===_0x4a411b)break;else _0x3214ad['push'](_0x3214ad['shift']());}catch(_0x55a806){_0x3214ad['push'](_0x3214ad['shift']());}}}(a3_0x4815,0xae1d2));import a3_0xe0ac33 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x3058a1 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';function a3_0x4815(){const _0x291d2f=['bot','readQueryFile','1936564jhrgpz','proxy','Invalid\x20input,\x20Please\x20try\x20again','text','\x20|\x20FloodWait\x20','log','url','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','disconnect','queryModificaiton','accountType','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','client','55430DmlIvE','Query\x20','TELEGRAM_APP_ID','You\x20dont\x20have\x20any\x20Query\x20Account.','queryCreation','\x20-\x20Webview\x20Connected','seconds','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','\x20|\x20Sleep\x20','<empty>\x0a','109032hvWfhB','includes','4mhDftV','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','accountName','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','390155Laeqxv','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','getEntity','exit','createDir','getSession','/query.txt','Your\x20Account\x20List\x20:\x0a\x20\x0a','length','delay','query','accounts/','resetAccounts','agent','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','resolvePeer','\x20-\x20Created','sessionCreation','storeSession','2827122DlGQhe','useSession','error','4033662rjUOYV','filter','getTelegramQuery','ERROR','Session\x20','187lYNrVq','saveQueryFile','Old\x20Query\x20:\x20','query-','indexOf','RequestWebView','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','info','save','6VjFyik','setLogLevel','https://image.notpx.app/','onBoarding','<empty>','warn','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','5386095wkmNKC','message','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','peer','initWebView','session','Please\x20Enter\x20Telegram\x20Query\x20:\x20','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','40FNRhaY','accounts','stringify','serverAddress','Invalid\x20Input','TELEGRAM_APP_HASH'];a3_0x4815=function(){return _0x291d2f;};return a3_0x4815();}import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';import{LogLevel}from'telegram/extensions/Logger.js';function a3_0xaf8e(_0x2e8c0b,_0x248821){const _0x48156d=a3_0x4815();return a3_0xaf8e=function(_0xaf8e62,_0x5f2690){_0xaf8e62=_0xaf8e62-0xf2;let _0x409317=_0x48156d[_0xaf8e62];return _0x409317;},a3_0xaf8e(_0x2e8c0b,_0x248821);}export class Telegram{[a3_0x150220(0xf6)];constructor(){const _0x1961da=a3_0x150220;this[_0x1961da(0x13b)]=_0x1961da(0x118),this['url']=_0x1961da(0x10a),this[_0x1961da(0x11d)]='notpx_bot';}async['init'](){const _0x191543=a3_0x150220;try{await this[_0x191543(0x10b)]();}catch(_0x198328){console[_0x191543(0x124)](_0x198328),a3_0x3058a1[_0x191543(0xf9)](''+JSON[_0x191543(0x119)](_0x198328));throw _0x198328;}}async[a3_0x150220(0x10b)](){const _0x4b5f56=a3_0x150220;try{let _0x5d76b6='Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a';const _0x356efb=Helper['getSession'](_0x4b5f56(0x118));if(_0x356efb[_0x4b5f56(0x145)]==0x0)_0x5d76b6+=_0x4b5f56(0x10c);else for(const _0x4c0e1f of _0x356efb){_0x5d76b6+='-\x20'+_0x4c0e1f+'\x0a';}_0x5d76b6+=_0x4b5f56(0x116),_0x5d76b6+=_0x4b5f56(0x13c);const _0x1183c4=await a3_0xe0ac33[_0x4b5f56(0x122)](_0x5d76b6);if(_0x1183c4==0x1)await this[_0x4b5f56(0x129)]();else{if(_0x1183c4==0x2)Helper[_0x4b5f56(0x149)](),await Helper[_0x4b5f56(0x146)](0xbb8),await this[_0x4b5f56(0x10b)]();else{if(_0x1183c4==0x3)Helper[_0x4b5f56(0x142)](this[_0x4b5f56(0x13b)])?.[_0x4b5f56(0x145)]==0x0&&(console['info']('You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first'),await this[_0x4b5f56(0x10b)]());else _0x1183c4==0x4?await this[_0x4b5f56(0x128)]():(console[_0x4b5f56(0xf9)]('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0x4b5f56(0x10b)]());}}}catch(_0x41f424){throw _0x41f424;}}async['queryModificaiton'](){const _0x479c5f=a3_0x150220;try{const _0x15cb99=Helper[_0x479c5f(0x142)](_0x479c5f(0x118)),_0x5549c3=_0x15cb99[_0x479c5f(0xfb)](_0x3a0c5a=>_0x3a0c5a[_0x479c5f(0x138)](_0x479c5f(0x147)));let _0x5d4f5b=_0x479c5f(0x13a);for(const _0x89d6ff of _0x5549c3){_0x5d4f5b+=_0x15cb99[_0x479c5f(0x103)](_0x89d6ff)+0x1+'.\x20'+_0x89d6ff+'\x0a';}_0x5549c3[_0x479c5f(0x145)]==0x0?(console[_0x479c5f(0x124)](_0x479c5f(0x130)),await this[_0x479c5f(0x10b)]()):_0x5d4f5b+=_0x479c5f(0x105);const _0x263fa5=await a3_0xe0ac33['text'](_0x5d4f5b);if(_0x5549c3[_0x263fa5-0x1]!=undefined){const _0x4d6c3a=_0x5549c3[_0x263fa5-0x1];this[_0x479c5f(0x13b)]=_0x479c5f(0x148)+_0x4d6c3a;const _0x1195a6=_0x479c5f(0x101)+Helper[_0x479c5f(0x11e)](this[_0x479c5f(0x13b)]+_0x479c5f(0x143))+_0x479c5f(0x12b),_0xe95f98=await a3_0xe0ac33[_0x479c5f(0x122)](_0x1195a6);await Helper[_0x479c5f(0x100)](this[_0x479c5f(0x13b)],_0xe95f98),await Helper[_0x479c5f(0x146)](0xbb8),await this[_0x479c5f(0x10b)]();}else console[_0x479c5f(0xf9)](_0x479c5f(0x121)),await this[_0x479c5f(0x128)]();}catch(_0xd74974){throw _0xd74974;}}async[a3_0x150220(0xf5)](){const _0x18a8d8=a3_0x150220;try{if(Config['TELEGRAM_APP_ID']==undefined||Config[_0x18a8d8(0x11c)]==undefined)throw new Error(_0x18a8d8(0xf2));const _0x33ef82=Helper[_0x18a8d8(0x142)](_0x18a8d8(0x118));let _0x13ebbf=_0x18a8d8(0x144);for(const _0x7987d5 of _0x33ef82){_0x13ebbf+=_0x33ef82['indexOf'](_0x7987d5)+0x1+'.\x20'+_0x7987d5+'\x0a';}_0x33ef82[_0x18a8d8(0x145)]==0x0?_0x13ebbf+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:':_0x13ebbf+=_0x18a8d8(0x111);const _0x13b0fd=await a3_0xe0ac33['text'](_0x13ebbf);this[_0x18a8d8(0x13b)]=Helper[_0x18a8d8(0x141)]('sessions-'+_0x13b0fd),await this[_0x18a8d8(0xf8)](this[_0x18a8d8(0x13b)]),await this[_0x18a8d8(0x127)](),a3_0x3058a1[_0x18a8d8(0x106)]('Session\x20'+this[_0x18a8d8(0x13b)]+_0x18a8d8(0xf4)),console[_0x18a8d8(0x124)]('Session\x20'+_0x13b0fd+_0x18a8d8(0x134)),this['storeSession']['save'](),await Helper[_0x18a8d8(0x146)](0xbb8),process[_0x18a8d8(0x140)]();}catch(_0x53b81b){throw _0x53b81b;}}async['queryCreation'](){const _0x3879f2=a3_0x150220;try{const _0x438f64=Helper[_0x3879f2(0x142)](_0x3879f2(0x118));let _0x55741f=_0x3879f2(0x144);for(const _0x123eb6 of _0x438f64){_0x55741f+=_0x438f64[_0x3879f2(0x103)](_0x123eb6)+0x1+'.\x20'+_0x123eb6+'\x0a';}_0x438f64[_0x3879f2(0x145)]==0x0?_0x55741f+=_0x3879f2(0x10e):_0x55741f+=_0x3879f2(0x13e);const _0x520e8f=await a3_0xe0ac33[_0x3879f2(0x122)](_0x55741f);this[_0x3879f2(0x13b)]=Helper['createDir'](_0x3879f2(0x102)+_0x520e8f);let _0x4ce682=_0x3879f2(0x115);const _0x555f82=await a3_0xe0ac33[_0x3879f2(0x122)](_0x4ce682);await Helper[_0x3879f2(0x100)](this[_0x3879f2(0x13b)],_0x555f82),a3_0x3058a1[_0x3879f2(0x106)](_0x3879f2(0x12e)+this[_0x3879f2(0x13b)]+'\x20-\x20Created'),console[_0x3879f2(0x124)]('Query\x20'+_0x520e8f+_0x3879f2(0x134)),await Helper[_0x3879f2(0x146)](0xbb8),process[_0x3879f2(0x140)]();}catch(_0x3bf074){throw _0x3bf074;}}async[a3_0x150220(0x129)](){const _0x5ea5ab=a3_0x150220;try{const _0x5ae292=Helper['getSession'](_0x5ea5ab(0x118));let _0x176393=_0x5ea5ab(0x144);if(_0x5ae292[_0x5ea5ab(0x145)]>0x0)for(const _0x4e0e02 of _0x5ae292){_0x176393+=_0x5ae292[_0x5ea5ab(0x103)](_0x4e0e02)+0x1+'.\x20'+_0x4e0e02+'\x0a';}else _0x176393+=_0x5ea5ab(0x136);_0x176393+='\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20';const _0x449b50=await a3_0xe0ac33[_0x5ea5ab(0x122)](_0x176393);if(_0x449b50==0x1)await this[_0x5ea5ab(0xf5)]();else _0x449b50==0x2?await this[_0x5ea5ab(0x131)]():(console['log'](_0x5ea5ab(0x11b)),await this[_0x5ea5ab(0x129)]());}catch(_0x13a686){throw _0x13a686;}}async[a3_0x150220(0xf8)](_0x5b641f,_0x41731e){const _0x1f472d=a3_0x150220;try{this[_0x1f472d(0x120)]=_0x41731e;const _0x1beef3={'connectionRetries':0x5};this[_0x1f472d(0x120)]&&(_0x1beef3[_0x1f472d(0x14a)]=new HttpsProxyAgent(this[_0x1f472d(0x120)])),this['storeSession']=new StoreSession(_0x5b641f),this[_0x1f472d(0x12c)]=new TelegramClient(this[_0x1f472d(0xf6)],Config[_0x1f472d(0x12f)],Config[_0x1f472d(0x11c)],_0x1beef3),this['client'][_0x1f472d(0x109)](LogLevel[_0x1f472d(0xfd)]),this[_0x1f472d(0xf6)][_0x1f472d(0x107)](),await this['client']['start']({'phoneNumber':async()=>await a3_0xe0ac33['text'](_0x1f472d(0x12a)),'password':async()=>await a3_0xe0ac33[_0x1f472d(0x122)]('Enter\x20your\x20Telegram\x20Password?'),'phoneCode':async()=>await a3_0xe0ac33[_0x1f472d(0x122)](_0x1f472d(0x126)),'onError':_0x29b0dc=>{const _0x1d531c=_0x1f472d;console[_0x1d531c(0x124)](_0x29b0dc[_0x1d531c(0x110)]);}});}catch(_0xc1cce9){throw _0xc1cce9;}}async[a3_0x150220(0xf3)](_0x5c81b4){const _0x3e64c4=a3_0x150220;try{a3_0x3058a1[_0x3e64c4(0x106)](_0x3e64c4(0xfe)+this['session']+'\x20-\x20Resolving\x20Peer');while(this[_0x3e64c4(0x112)]==undefined){try{this[_0x3e64c4(0x112)]=await this['client'][_0x3e64c4(0x13f)](this[_0x3e64c4(0x11d)]);break;}catch(_0x5a1779){if(_0x5a1779 instanceof FloodWaitError){const _0x4f890b=_0x5a1779[_0x3e64c4(0x133)];a3_0x3058a1[_0x3e64c4(0x10d)](this[_0x3e64c4(0x12c)][_0x3e64c4(0x114)][_0x3e64c4(0x11a)]+_0x3e64c4(0x123)+_0x5a1779),a3_0x3058a1[_0x3e64c4(0x106)](this[_0x3e64c4(0x12c)][_0x3e64c4(0x114)]['serverAddress']+_0x3e64c4(0x135)+_0x4f890b+'s'),await Helper[_0x3e64c4(0x146)](_0x4f890b*0x3e8,_0x5c81b4,this[_0x3e64c4(0x12c)]['session'][_0x3e64c4(0x11a)]+_0x3e64c4(0x123)+_0x5a1779);}else throw _0x5a1779;}}}catch(_0x4c222e){throw _0x4c222e;}}async[a3_0x150220(0x127)](){const _0xc3c353=a3_0x150220;await this[_0xc3c353(0x12c)][_0xc3c353(0x127)](),await this[_0xc3c353(0x12c)]['destroy'](),this['peer']=undefined,this[_0xc3c353(0x13b)]=undefined;}async[a3_0x150220(0x113)](){const _0x3e2599=a3_0x150220;try{const _0x5afec2=await this[_0x3e2599(0x12c)]['invoke'](new Api['messages'][(_0x3e2599(0x104))]({'peer':this['peer'],'bot':this['peer'],'fromBotMenu':!![],'url':this['url'],'platform':'android'}));a3_0x3058a1[_0x3e2599(0x106)](_0x3e2599(0xfe)+this[_0x3e2599(0x114)]+_0x3e2599(0x132));const _0x5196e8=_0x5afec2[_0x3e2599(0x125)];return Helper[_0x3e2599(0xfc)](_0x5196e8,0x3);}catch(_0x1aba6c){throw _0x1aba6c;}}}