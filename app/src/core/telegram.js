const a3_0x2ffa31=a3_0x3d1d;function a3_0x3d1d(_0x217a2c,_0x19feae){const _0x2966e6=a3_0x2966();return a3_0x3d1d=function(_0x3d1d41,_0x39e733){_0x3d1d41=_0x3d1d41-0x18e;let _0x1c00bc=_0x2966e6[_0x3d1d41];return _0x1c00bc;},a3_0x3d1d(_0x217a2c,_0x19feae);}(function(_0xab2a71,_0x296180){const _0x58e841=a3_0x3d1d,_0x27089b=_0xab2a71();while(!![]){try{const _0x450967=parseInt(_0x58e841(0x1d5))/0x1*(parseInt(_0x58e841(0x1de))/0x2)+parseInt(_0x58e841(0x192))/0x3+-parseInt(_0x58e841(0x1d4))/0x4+-parseInt(_0x58e841(0x1bf))/0x5+parseInt(_0x58e841(0x1ab))/0x6*(parseInt(_0x58e841(0x1df))/0x7)+parseInt(_0x58e841(0x1c5))/0x8*(-parseInt(_0x58e841(0x1e1))/0x9)+parseInt(_0x58e841(0x1dd))/0xa*(parseInt(_0x58e841(0x198))/0xb);if(_0x450967===_0x296180)break;else _0x27089b['push'](_0x27089b['shift']());}catch(_0x31d0a8){_0x27089b['push'](_0x27089b['shift']());}}}(a3_0x2966,0x229c2));import a3_0x5f19b6 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x319d38 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';import{LogLevel}from'telegram/extensions/Logger.js';export class Telegram{[a3_0x2ffa31(0x1c4)];constructor(){const _0x165767=a3_0x2ffa31;this[_0x165767(0x18e)]='accounts',this[_0x165767(0x1c2)]=_0x165767(0x1e3),this[_0x165767(0x1b2)]=_0x165767(0x1e9);}async[a3_0x2ffa31(0x1db)](){const _0x20826a=a3_0x2ffa31;try{await this['onBoarding']();}catch(_0x481549){console['log'](_0x481549),a3_0x319d38[_0x20826a(0x1a3)](''+JSON[_0x20826a(0x19e)](_0x481549));throw _0x481549;}}async[a3_0x2ffa31(0x1c7)](){const _0x21bdbb=a3_0x2ffa31;try{let _0x380ffb=_0x21bdbb(0x1e2);const _0x56b879=Helper[_0x21bdbb(0x191)](_0x21bdbb(0x1d9));if(_0x56b879['length']==0x0)_0x380ffb+=_0x21bdbb(0x1cb);else for(const _0x2e2dbd of _0x56b879){_0x380ffb+='-\x20'+_0x2e2dbd+'\x0a';}_0x380ffb+=_0x21bdbb(0x1d0),_0x380ffb+='\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:';const _0x3d4861=await a3_0x5f19b6[_0x21bdbb(0x1b3)](_0x380ffb);if(_0x3d4861==0x1)await this[_0x21bdbb(0x1b8)]();else{if(_0x3d4861==0x2)Helper[_0x21bdbb(0x1ba)](),await Helper[_0x21bdbb(0x1a0)](0xbb8),await this[_0x21bdbb(0x1c7)]();else{if(_0x3d4861==0x3)Helper[_0x21bdbb(0x191)](this[_0x21bdbb(0x18e)])?.[_0x21bdbb(0x1a7)]==0x0&&(console[_0x21bdbb(0x1cc)](_0x21bdbb(0x19b)),await this['onBoarding']());else _0x3d4861==0x4?await this[_0x21bdbb(0x1e5)]():(console[_0x21bdbb(0x1a3)](_0x21bdbb(0x1bd)),await this[_0x21bdbb(0x1c7)]());}}}catch(_0x2844a0){throw _0x2844a0;}}async[a3_0x2ffa31(0x1e5)](){const _0x424098=a3_0x2ffa31;try{const _0x465b12=Helper['getSession']('accounts'),_0x283cbb=_0x465b12['filter'](_0x40f027=>_0x40f027[_0x424098(0x1d8)]('query'));let _0x1102e9=_0x424098(0x1d6);for(const _0x53c1c6 of _0x283cbb){_0x1102e9+=_0x465b12['indexOf'](_0x53c1c6)+0x1+'.\x20'+_0x53c1c6+'\x0a';}_0x283cbb[_0x424098(0x1a7)]==0x0?(console[_0x424098(0x1af)](_0x424098(0x197)),await this[_0x424098(0x1c7)]()):_0x1102e9+='\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:';const _0x544626=await a3_0x5f19b6['text'](_0x1102e9);if(_0x283cbb[_0x544626-0x1]!=undefined){const _0x5eb483=_0x283cbb[_0x544626-0x1];this[_0x424098(0x18e)]=_0x424098(0x1ca)+_0x5eb483;const _0x56714b='Old\x20Query\x20:\x20'+Helper[_0x424098(0x19a)](this[_0x424098(0x18e)]+'/query.txt')+_0x424098(0x1cd),_0x35f0f4=await a3_0x5f19b6['text'](_0x56714b);await Helper[_0x424098(0x1c3)](this[_0x424098(0x18e)],_0x35f0f4),await Helper[_0x424098(0x1a0)](0xbb8),await this[_0x424098(0x1c7)]();}else console['error'](_0x424098(0x1bd)),await this[_0x424098(0x1e5)]();}catch(_0x4f7596){throw _0x4f7596;}}async[a3_0x2ffa31(0x1cf)](){const _0x2efba3=a3_0x2ffa31;try{if(Config[_0x2efba3(0x18f)]==undefined||Config[_0x2efba3(0x1e6)]==undefined)throw new Error('Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first');const _0x44d6f1=Helper[_0x2efba3(0x191)](_0x2efba3(0x1d9));let _0x54ee47='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x1c2156 of _0x44d6f1){_0x54ee47+=_0x44d6f1[_0x2efba3(0x1b0)](_0x1c2156)+0x1+'.\x20'+_0x1c2156+'\x0a';}_0x44d6f1[_0x2efba3(0x1a7)]==0x0?_0x54ee47+=_0x2efba3(0x1e4):_0x54ee47+=_0x2efba3(0x1a8);const _0x1564a3=await a3_0x5f19b6['text'](_0x54ee47);this['accountName']=Helper['createDir'](_0x2efba3(0x1c6)+_0x1564a3),await this[_0x2efba3(0x1bc)](this['accountName']),await this[_0x2efba3(0x1ac)](),a3_0x319d38['info']('Session\x20'+this[_0x2efba3(0x18e)]+_0x2efba3(0x19d)),console[_0x2efba3(0x1af)]('Session\x20'+_0x1564a3+'\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again'),this[_0x2efba3(0x1c4)]['save'](),await Helper[_0x2efba3(0x1a0)](0xbb8),process[_0x2efba3(0x1e0)]();}catch(_0xdea6da){throw _0xdea6da;}}async['queryCreation'](){const _0x27f337=a3_0x2ffa31;try{const _0x35e7af=Helper[_0x27f337(0x191)]('accounts');let _0x35383e='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x5611af of _0x35e7af){_0x35383e+=_0x35e7af['indexOf'](_0x5611af)+0x1+'.\x20'+_0x5611af+'\x0a';}_0x35e7af['length']==0x0?_0x35383e+=_0x27f337(0x1a4):_0x35383e+=_0x27f337(0x196);const _0x39a0bc=await a3_0x5f19b6[_0x27f337(0x1b3)](_0x35383e);this[_0x27f337(0x18e)]=Helper[_0x27f337(0x1d2)](_0x27f337(0x1b1)+_0x39a0bc);let _0x209757='Please\x20Enter\x20Telegram\x20Query\x20:\x20';const _0x20f94d=await a3_0x5f19b6[_0x27f337(0x1b3)](_0x209757);await Helper[_0x27f337(0x1c3)](this[_0x27f337(0x18e)],_0x20f94d),a3_0x319d38[_0x27f337(0x1cc)](_0x27f337(0x1dc)+this[_0x27f337(0x18e)]+_0x27f337(0x19d)),console[_0x27f337(0x1af)](_0x27f337(0x1dc)+_0x39a0bc+_0x27f337(0x1aa)),await Helper[_0x27f337(0x1a0)](0xbb8),process[_0x27f337(0x1e0)]();}catch(_0x1bc3e1){throw _0x1bc3e1;}}async[a3_0x2ffa31(0x1b8)](){const _0x556531=a3_0x2ffa31;try{const _0x9e3e21=Helper[_0x556531(0x191)](_0x556531(0x1d9));let _0x5edf66=_0x556531(0x1be);if(_0x9e3e21[_0x556531(0x1a7)]>0x0)for(const _0x4feaf1 of _0x9e3e21){_0x5edf66+=_0x9e3e21[_0x556531(0x1b0)](_0x4feaf1)+0x1+'.\x20'+_0x4feaf1+'\x0a';}else _0x5edf66+=_0x556531(0x1a5);_0x5edf66+=_0x556531(0x1ce);const _0x2e2053=await a3_0x5f19b6[_0x556531(0x1b3)](_0x5edf66);if(_0x2e2053==0x1)await this[_0x556531(0x1cf)]();else _0x2e2053==0x2?await this['queryCreation']():(console[_0x556531(0x1af)](_0x556531(0x19f)),await this[_0x556531(0x1b8)]());}catch(_0x8bb7a4){throw _0x8bb7a4;}}async[a3_0x2ffa31(0x1bc)](_0x367d92,_0x8ea0fe){const _0x32f6d6=a3_0x2ffa31;try{this[_0x32f6d6(0x1ae)]=_0x8ea0fe;const _0x5ab13a={'connectionRetries':0x5};this[_0x32f6d6(0x1ae)]&&(_0x5ab13a[_0x32f6d6(0x194)]=new HttpsProxyAgent(this[_0x32f6d6(0x1ae)])),this[_0x32f6d6(0x1c4)]=new StoreSession(_0x367d92),this[_0x32f6d6(0x1a2)]=new TelegramClient(this[_0x32f6d6(0x1c4)],Config['TELEGRAM_APP_ID'],Config[_0x32f6d6(0x1e6)],_0x5ab13a),this[_0x32f6d6(0x1a2)][_0x32f6d6(0x1b9)](LogLevel[_0x32f6d6(0x1c9)]),this[_0x32f6d6(0x1c4)][_0x32f6d6(0x1b4)](),await this['client'][_0x32f6d6(0x1c8)]({'phoneNumber':async()=>await a3_0x5f19b6[_0x32f6d6(0x1b3)](_0x32f6d6(0x1da)),'password':async()=>await a3_0x5f19b6[_0x32f6d6(0x1b3)](_0x32f6d6(0x1e8)),'phoneCode':async()=>await a3_0x5f19b6[_0x32f6d6(0x1b3)](_0x32f6d6(0x1e7)),'onError':_0x16c3cd=>{const _0x2e8e31=_0x32f6d6;console['log'](_0x16c3cd[_0x2e8e31(0x1c0)]);}});}catch(_0x39c2dc){throw _0x39c2dc;}}async[a3_0x2ffa31(0x1b6)](_0x310460){const _0x4d342e=a3_0x2ffa31;try{a3_0x319d38[_0x4d342e(0x1cc)](_0x4d342e(0x1d7)+this[_0x4d342e(0x1d1)]+_0x4d342e(0x1d3));while(this[_0x4d342e(0x193)]==undefined){try{this[_0x4d342e(0x193)]=await this[_0x4d342e(0x1a2)][_0x4d342e(0x1a9)](this[_0x4d342e(0x1b2)]);break;}catch(_0x4ddd56){if(_0x4ddd56 instanceof FloodWaitError){const _0x897b70=_0x4ddd56[_0x4d342e(0x1ad)];a3_0x319d38[_0x4d342e(0x1b7)](this['client'][_0x4d342e(0x1d1)][_0x4d342e(0x1bb)]+_0x4d342e(0x1a1)+_0x4ddd56),a3_0x319d38[_0x4d342e(0x1cc)](this[_0x4d342e(0x1a2)][_0x4d342e(0x1d1)][_0x4d342e(0x1bb)]+'\x20|\x20Sleep\x20'+_0x897b70+'s'),await Helper[_0x4d342e(0x1a0)](_0x897b70*0x3e8,_0x310460,this[_0x4d342e(0x1a2)][_0x4d342e(0x1d1)]['serverAddress']+'\x20|\x20FloodWait\x20'+_0x4ddd56);}else throw _0x4ddd56;}}}catch(_0x3fe6bd){throw _0x3fe6bd;}}async[a3_0x2ffa31(0x1ac)](){const _0x3586dc=a3_0x2ffa31;await this[_0x3586dc(0x1a2)][_0x3586dc(0x1ac)](),await this[_0x3586dc(0x1a2)][_0x3586dc(0x1a6)](),this[_0x3586dc(0x193)]=undefined,this[_0x3586dc(0x18e)]=undefined;}async[a3_0x2ffa31(0x1c1)](){const _0x3b27d7=a3_0x2ffa31;try{const _0x39dd61=await this[_0x3b27d7(0x1a2)][_0x3b27d7(0x1b5)](new Api[(_0x3b27d7(0x199))][(_0x3b27d7(0x19c))]({'peer':this[_0x3b27d7(0x193)],'bot':this[_0x3b27d7(0x193)],'fromBotMenu':!![],'url':this[_0x3b27d7(0x1c2)],'platform':'android'}));a3_0x319d38[_0x3b27d7(0x1cc)](_0x3b27d7(0x1d7)+this[_0x3b27d7(0x1d1)]+_0x3b27d7(0x195));const _0x4539f1=_0x39dd61[_0x3b27d7(0x1c2)];return Helper[_0x3b27d7(0x190)](_0x4539f1,0x3);}catch(_0x507a1a){throw _0x507a1a;}}}function a3_0x2966(){const _0x3e9f3b=['\x20-\x20Webview\x20Connected','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','You\x20dont\x20have\x20any\x20Query\x20Account.','11vhUTTo','messages','readQueryFile','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','RequestWebView','\x20-\x20Created','stringify','Invalid\x20Input','delay','\x20|\x20FloodWait\x20','client','error','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','<empty>\x0a','destroy','length','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','getEntity','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','78kIvYoS','disconnect','seconds','proxy','log','indexOf','query-','bot','text','save','invoke','resolvePeer','warn','accountType','setLogLevel','resetAccounts','serverAddress','useSession','Invalid\x20input,\x20Please\x20try\x20again','Your\x20Account\x20List\x20:\x0a\x20\x0a','688145NCxLeJ','message','initWebView','url','saveQueryFile','storeSession','172408xjlaMs','sessions-','onBoarding','start','ERROR','accounts/','<empty>','info','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','sessionCreation','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','session','createDir','\x20-\x20Resolving\x20Peer','579652kOhQdF','65887JJFFvb','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','Session\x20','includes','accounts','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','init','Query\x20','1741470bmERRb','6vxQgpK','128765IObLDE','exit','99FeEQpi','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','https://image.notpx.app/','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','queryModificaiton','TELEGRAM_APP_HASH','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','Enter\x20your\x20Telegram\x20Password?','notpx_bot','accountName','TELEGRAM_APP_ID','getTelegramQuery','getSession','151266CPTbhi','peer','agent'];a3_0x2966=function(){return _0x3e9f3b;};return a3_0x2966();}